<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>
        let a = +prompt("The first number?", "");
        let b = +prompt("The second number?", "");
        alert( a + b );

        alert( Math.round(6.35 * 10) / 10);

        function readNumber() {
            let num;
            do {
                num = prompt("Enter a number please?", 0);
            } while ( !isFinite(num) );
            if (num === null || num === '') return null;
            return +num;
        }

        function random(min, max) {
            return min + Math.random() * (max - min);
        }
        function randomInteger(min, max) {
            let rand = min + Math.random() * (max + 1 - min);
            return Math.floor(rand);
        }
        function ucFirst(str) {
            if (!str) return str;
            return str[0].toUpperCase() + str.slice(1);
        }
        function checkSpam(str) {
            let lowerStr = str.toLowerCase();
            return lowerStr.includes('viagra') || lowerStr.includes('xxx');
        }
        function truncate(str, maxlength) {
            return (str.length > maxlength) ? str.slice(0, maxlength - 1) + 'â€¦' : str;
        }
        function extractCurrencyValue(str) {
            return +str.slice(1);
        }
        let styles = ["Jazz", "Blues"];
        styles.push("Rock-n-Roll");
        styles[Math.floor((styles.length - 1) / 2)] = "Classics";
        alert( styles.shift() );
        styles.unshift("Rap", "Reggae");

        let arr1 = ["a", "b"];
        arr.push(function() {
        alert( this );})
        arr[2]();
        function getMaxSubSum(arr1) {
            let maxSum = 0;
            let partialSum = 0;
            for (let item of arr) { 
                partialSum += item; 
                maxSum = Math.max(maxSum, partialSum);
                if (partialSum < 0) partialSum = 0;
            }
            return maxSum;
        }
        function camelize(str) {
            return str.split('-').map((word, index) => index == 0 ? word : word[0].toUpperCase() + word.slice(1)).join(''); 
        }
        function filterRange(arr, a, b) {
            return arr.filter(item => (a <= item && item <= b));
        }
        let arr2 = [5, 3, 8, 1];
        let filtered = filterRange(arr, 1, 4);

        function filterRangeInPlace(arr2, a, b) {
            for (let i = 0; i < arr2.length; i++) {
            let val = arr2[i];
            if (val < a || val > b) {
                arr.splice(i, 1);
                i--;}}
        }
        let arr3 = [5, 3, 8, 1];
        filterRangeInPlace(arr3, 1, 4); 
        alert( arr3 ); 

        let arr4 = [5, 2, 1, -10, 8];
        arr4.sort((a, b) => b - a);
        alert( arr4 );

        function copySorted(arr4) {
            return arr4.slice().sort();
        }
        let arr5 = ["HTML", "JavaScript", "CSS"];
        let sorted = copySorted(arr5);
        alert( sorted );
        alert( arr5 );

        let john = { name: "John", age: 25 };
        let pete = { name: "Pete", age: 30 };
        let mary = { name: "Mary", age: 28 };
        let users = [ john, pete, mary ];
        let names = users.map(item => item.name);
        function shuffle(array) {
            array.sort(() => Math.random() - 0.5);
        }
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                let j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];}
        }
        function groupById(array) {
            return array.reduce((obj, value) => {
                obj[value.id] = value;
                return obj;
        }, {})
        }

        function unique(arr) {
            return Array.from(new Set(arr));
        }
        function aclean(arr) {
            let obj = {};
            for (let i = 0; i < arr.length; i++) {
                let sorted = arr[i].toLowerCase().split("").sort().join("");
                obj[sorted] = arr[i];
            }
            return Object.values(obj);
        }
        let map = new Map();
        map.set("name", "John");
        let keys = Array.from(map.keys());
        keys.push("more");
        alert(keys);

        let messages = [
        {text: "Hello", from: "John"},
        {text: "How goes?", from: "John"},
        {text: "See you soon", from: "Alice"}
        ];
        let readMap = new WeakMap();
        readMap.set(messages[0], new Date(2017, 1, 1));
        function count(obj) {
            return Object.keys(obj).length;
        }
        function topSalary(salaries) {
            let maxSalary = 0;
            let maxName = null;
            for(const [name, salary] of Object.entries(salaries)) {
            if (maxSalary < salary) {
                maxSalary = salary;
                maxName = name;
            }
            }
            return maxName;
        }
        function getSecondsToTomorrow() {
            let now = new Date();
            let tomorrow = new Date(now.getFullYear(), now.getMonth(), now.getDate()+1);
            let diff = tomorrow - now;
            return Math.round(diff / 1000);
        }
        let user = {
            name: "John Smith",
            age: 35
        };
        let user2 = JSON.parse(JSON.stringify(user));

        let room = {
          number: 23
        };
        let meetup = {
            title: "Conference",
            occupiedBy: [{name: "John"}, {name: "Alice"}],
            place: room
        };
        room.occupiedBy = meetup;
        meetup.self = meetup;
        alert( JSON.stringify(meetup, function replacer(key, value) {return (key != "" && value == meetup) ? undefined : value;}));
</script>
</body>
</html>
